# Codex 자동화

Codex 크레딧이 아까워서 뭐라도 돌려보고자 이 웹 사이트의 문서를 자동으로 작성하게 해봤다.
별 건 아니고 Docs 메뉴에 보면 오늘의 영단어라고 생겼을 건데 말 그대로 매일 영어 단어 하나 골라서 교육적이고 재밌는 내용 적어서 올리라고 했다.

<!-- truncate -->

우선 일관적인 동작을 위해서 [프롬프트](https://github.com/neuwcodebox/homepage/blob/main/docs/%EC%98%A4%EB%8A%98%EC%9D%98%20%EC%98%81%EB%8B%A8%EC%96%B4/prompt.txt)를 길게 작성했다.
그러고 아래 명령어를 스케줄러에 등록해서 매일 6시 실행되게 했다.

> codex exec --yolo "prompt.txt 파일을 읽고 지시에 따라주세요. 모든 파일 입출력은 UTF8을 사용하세요. 예: Get-Content -Path prompt.txt -Encoding UTF8"

codex가 파일 쓰기, 네트워크 접근 권한을 많이 깐깐하게 따지는데 Windows에서는 아직 불안정하기도 해서 권한 씨름을 좀 했다.
결국 yolo 모드를 쓸 수 밖에 없었음.

그리고 Windows의 짜증나는 EUC-KR 때문에 글자가 다 깨지길래 항상 UTF8로 파일 다루라고 넣어줬다.

생각보다 씨름을 하긴 했지만 뭐 나름 만족스러운 결과다.
가능하다면 웹훅을 써서 알림이 오게도 하고 싶은데 웹훅은 숨겨야 하니까 환경변수 같은 걸로 세팅해놓고 불러와서 쓰라고 하면 될려나...?

그리고 이왕 만든 거 아예 텔레그램 공지 채널 하나 파서 올리면 여러 사람 볼 수 있고 좋을 듯.
일단은 이렇게만 좀 굴려보고...