# 재난 현황 지도

얼마 전에 만들었다고 했던 [재난 현황판](https://disaster-feed.neuwappbox.com/)에 지도를 넣어봤다.

<!-- truncate -->

![](/attachments/blog/2026-01-03-disaster-feed-map/file-20260103205052669.png)

행정 구역과 함께 지도를 다루는 건 옛날에 산불 지도 만들 때 해봤어서 그리 어렵지 않았다.
대충 다음과 같은 데이터를 DB에 구축해 놓고 써먹었다.

| 행정 구역 코드   | 지역명                | 중심 위도       | 중심 경도       |
| ---------- | ------------------ | ----------- | ----------- |
| 1171000000 | 서울특별시 송파구          | 37.50557    | 127.1152405 |
| 1174000000 | 서울특별시 강동구          | 37.54979352 | 127.1466647 |
| 2611000000 | 부산광역시 중구           | 35.10690511 | 129.0317688 |
| 2614000000 | 부산광역시 서구           | 35.10098318 | 129.014818  |
| 2611013900 | 부산광역시 중구 남포동4가     | 35.09758816 | 129.0317278 |
| 5183031039 | 강원특별자치도 양양군 서면 송어리 | 38.06425045 | 128.5198121 |

행정 구역 코드와 지역명이 있는 TSV 파일과 행정 구역 단위별 SHP 파일(GeoJSON으로 변환)을 조합했음.

수집한 데이터 종류마다 지역 정보의 형태가 다르기 때문에 이 DB를 활용해서 최대한 적절한 형태로 지도에 표시했다.

예를 들어 재난 문자 데이터의 경우에는 "부산광역시 중구" 이런 정보만 있는데 이걸 저 DB에서 찾아서 "2611000000" 코드를 얻으면 프론트에서 이 코드에 해당하는 지역 폴리곤을 찾아서 표시해줄 수 있다.

또 다른 예로, 화재 출동 데이터의 경우에는 "5183031039" 이렇게 코드를 바로 얻을 수 있지만 이걸 해당 지역 전체 범위의 형태로 표시하기 보다는 점 형태로 표시하는 게 적절해서 DB에서 중심점을 찾아 표시했다. 물론 부정확하긴 한데 '리' 단위니까 멀리서 보면(?) 괜찮다.

애초에 위도/경도를 바로 제공하는 교통 돌발 정보나 지진 정보 등은 그냥 그대로 점 형태로 표시함. 이 외에도 줄임말(경남, 전북 등)을 풀어서 검색하는 등 자잘한 전처리도 필요했음.

아직 지도에 표시하지 못한 것도 있는데, 기상 특보가 그렇다. 기상 특보는 행정 구역 코드를 사용하는 게 아니라 기상청 자체적인 특보 구역을 사용한다. 그럴 수 밖에 없는 게 특보는 바다에도 내려지고 지형적인 특성을 고려해서 구역이 나눠지기 때문이다. 예를 들면 "동해남부남쪽안쪽먼바다" 라던가 "강원남부산지", "서울동북권" 등등...
이 자체 특보 구역도 위도/경도를 이용한 폴리곤 정보가 있다면 그릴 수 있겠는데 그런 걸 못찾았다. 사실 이 이유도 있지만 특보는 기본적으로 범위가 넓어서 현재 이모지+레벨별 색상을 이용한 시각화 방식으로는 보기 안 좋은 것도 있다.
뭐 뷰를 따로 나눠서 로테이션 돌린다거나 할 수 있겠지만 흠...

그리고 또 근본적인 한계가 있는데, 지도에 표시되었다고 해서 그 상황이 진행 중이라는 걸 뜻하는 게 아니란 것이다. 아직 어떤 사건의 시작, 진행, 종료를 묶어서 관리하는 체계가 없어서 그렇다. 이거는 사실 처음에 생각했던 프로젝트 범위를 넘어서는 거라서 그냥 둘지 다른 방법으로 보완할지 고민 중.

아무튼 만들면서 느낀 건 산불 지도 만들 때보다 확실히 데이터 구하기는 더 쉬워진 느낌? 공식 API가 많이 생기기도 했고 접근성도 좋아졌고 인터넷에 자료도 많아졌고...
~~그리고 지도 만드는 코드는 AI가 다 짜주지~~
